<!DOCTYPE html>
<html>
<head>
    <title>e^(πi) = 附1</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="res/css/index.css" rel="stylesheet" />
</head>
<body>
    <div id="post">

    </div>
    <style>
        .container {
            max-width: 100%;
        }
        .post-images, .post-image-wrap, .post-image {
            max-width: 100%;
        }
    </style>
    <link href="res/css/animate.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="res/js/wow.js"></script>
    <script src="res/js/ig-embed.js"></script>
    <script src="res/js/ua-parser.min.js"></script>
    <script src="res/js/index.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script>
        /* Preparation */
        regLocationKey();
        devMode();
        deviceDetection();

        async function loadIGP() {
            var anid = Math.floor(Math.random()*2), ani = ["slideInLeft", "slideInRight"];
            return await fetch("https://www.instagram.com/epii_equals_81minus82/?__a=1").then(r=>r.json()).then(ig=>ig.graphql.user).then(data=>{
                var posts = data.edge_owner_to_timeline_media.edges;
                var t = p = 4;
                while(p--) {
                    var post = posts[t-p-1].node;
                    var container = document.createElement("div"),
                        imageWraps = document.createElement("div");
                    for(var i = 0; i < (post.edge_sidecar_to_children?post.edge_sidecar_to_children.edges.length:1); i++) {
                        let imageWrap = document.createElement("div"),
                            image = document.createElement("img");
                        image.src = post.edge_sidecar_to_children?post.edge_sidecar_to_children.edges[i].node.display_url : post.display_url;
                        image.classList.add("post-image");
                        imageWrap.appendChild(image);
                        imageWrap.classList.add("post-image-wrap");
                        imageWraps.appendChild(imageWrap);
                    }
                    imageWraps.classList.add("post-images");
                    container.appendChild(imageWraps);
                    document.getElementById("post").appendChild(container);
                }
                $('.post-images').slick();
            });
        }
    </script>
</body>
</html>
